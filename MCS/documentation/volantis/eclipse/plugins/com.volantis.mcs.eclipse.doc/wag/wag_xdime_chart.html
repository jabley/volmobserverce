<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/xml;charset=UTF-8"/>
      <title>Specifying charts</title>
      <link rel="stylesheet" href="../volantis.css"/>
   </head>
   <body>
      <h1>Specifying charts</h1>
      
      <p>Unlike the variants for other types of image component, chart
         variants are generated at runtime rather than being
         permanently stored on a file system. MCS gets the information
         required to draw the chart variant from chart data, a chart
         display attributes, and device data.</p>
      
      <p class="caption"/>&nbsp;&nbsp;
      <p>
         <img src="../graphics/chart_browser.gif" alt="Chart display on a PC" title="Chart display on a PC"/>
      </p>
      
         
      <h2>Chart data</h2>
         
      <p>Chart components are perhaps most effective when you need
            to display data that changes frequently, and that can be
            generated dynamically from a source like a database or a
            web service. However, it is also possible to use static
            chart values.</p>
         
      <p>Chart data are the values and labels that are to be
            represented in the chart. MCS derives this data, which is
            common to all devices, by evaluating either JSP
            expressions or static values in the <span class="code">data</span> and
               <span class="code">labels</span> attributes of the XDIME
               <span class="code">chart</span> element.</p>
         
      <p>A basic static example takes space and comma separated
            data and label values direct from the attributes.</p>
         
      <pre class="code">&lt;canvas layoutName="/chart.mlyt"&gt;
   &lt;chart= pane="onePane"
      alt="Encouraging Q1 Figures"
      name="ExampleChart"
      data="10 15 50, 60 30 10"
      labels="Jan Feb Mar"/&gt;
   ...
&lt;/canvas&gt;</pre>
         
      <p>The next example shows a call to a Java Bean, with the
            same <span class="code">chart</span> element. In this case JSP
            expressions take the place of the literal values in the
            attributes.</p>
         
      <p>The chart data and label values are generated by the Java
            Bean. The data is still defined statically, but a similar
            technique could be used to access a dynamic source.</p>
         
      <pre class="code">package volantis.mcs.example.utilities; import
            com.volantis.mcs.utilities.ChartData; import
            com.volantis.mcs.utilities.ChartValues; public class
            ExampleChartData implements ChartData { private static
            String mark = "(c) SomeSite Systems Ltd 2001. All Rights
            Reserved.";I ChartValues data = new ChartValues("10 15 50,
            60 30 10"); ChartValues labels = new ChartValues("Jan Feb
            Mar"); public ChartValues getData() { return data; }
            public ChartValues getLabels() { return labels; }
         }</pre>
      
      
         
      <h2>X server access</h2>
         
      <p>When MCS is running on a Unix application server it needs
            to connect to a host X-windows server to render a chart.
            There are a number of alternative methods depending on the
            server platform. For example, you need to add the
            application server user to the the X server access control
            list <pre class="code">xhost + [local_ip]</pre>
            and specify an export display context <pre class="code">
export DISPLAY=[local_ip]:0.0 </pre>
         
      </p>
      
      
         
      <p>
         <span class="ri">Related topics</span>
         <br/>
         <a href="../wag/wag_xdime_about.html">Working with XDIME</a>
         <br/>
         <a href="../wag/wag_chart_attr.html">Chart attributes</a>
         <br/>
         <a href="../wag/wag_chart_style.html">Styling charts</a>
         <br/>
         <a href="../xdime/xdime_chart.html"/>
      </p>
      
   
   </body>
</html>