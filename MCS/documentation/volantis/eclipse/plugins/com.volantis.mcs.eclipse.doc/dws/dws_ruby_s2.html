<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/xml;charset=UTF-8"/>
      <title>example1.rb</title>
      <link rel="stylesheet" href="../volantis.css"/>
   </head>
   <body>
      <h1 class="ocp">example1.rb</h1>
      
      <pre class="code">#!/usr/bin/ruby -w

# (c) Copyright Volantis Systems Ltd. 2005. All rights reserved
#
# Simple READ query against a set of headers,
# i.e. the device MCS would infer from the supplied headers
#

require 'net/https'
require 'drws-config'

# Prepare HTTPS connection to the web service
http = Net::HTTP.new(WS_HOST, WS_PORT)
http.use_ssl = true

# Prepare the POST request with basic authentication
req = Net::HTTP::Post.new(WS_PATH + '/device/name-by-headers')
req.basic_auth(WS_AUTH_USER, WS_AUTH_PASS)
req['Content-Type'] = 'text/html'

# Start the connection, execute the request and print the response
# The connection is automatically closed at the end of block
http.start { |http|
    response = http.request(req, 'User-Agent: Nokia 6210')
    print response.body
}</pre>
      
         
      <p>
         <span class="ri">Related topic</span>
         <br/>
         <a href="../dws/dws_name_by_headers.html">device-name-by-headers</a>
         <br/>
         <a href="../dws/dws_ruby.html">Code samples in Ruby</a>
      </p>
      
   
   </body>
</html>