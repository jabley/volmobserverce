<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
   <head>
      <meta content="application/xhtml+xml" http-equiv="Content-Type"/>
      <title>Using transactions</title>
      <link rel="stylesheet" href="../volantis.css"/>
   </head>
   <body>
      <h1 class="ocp">Using transactions</h1>
	
			
      <p>The <span class="code">sqld:transaction</span> element provides a convenient wrapper to combine modification statements (and possibly queries). Transactions may also be nested.</p>
			
      <p>The <span class="code">sqld:transaction</span> element's <span class="code">dataSource</span> attribute provides the same function as it does in the <span class="code">sqld:modify</span>. The <span class="code">id</span> attribute identifies the transaction.</p>
			
      <p class="note">
         <strong>Note</strong>: 
			The <span class="code">transaction</span> attribute on the <span class="code">sqld:modify</span> element binds the SQL statement to the transaction. Although it is not a required attribute, and the binding is implied by the transaction container, the <span class="code">transaction</span> attribute should <em>always</em> be used when transactions are nested, to ensure that the correct database connection is identified.</p>
			
				
      <pre class="code">&lt;sqld:transaction
   dataSource="address"
   id="update-address"&gt;
   &lt;sqld:modify
      transaction="update-address"
      sql="insert into ADDRESS (FORENAME, SURNAME, ADDRESS) values (?, ?, ?)"&gt;
     ...
    &lt;/sqld:modify&gt;
    &lt;sqld:modify
       transaction="update-address"
       sql="insert into PREFERENCES (FORENAME, SURNAME, PREFERENCES) values (?, ?, ?)"&gt;
       ...
    &lt;/sqld:modify&gt;
&lt;/sqld:transaction&gt;</pre>
		
	
		
			
      <p>
         <span class="ri">Related topics</span>
         <br/>
         <a href="../dci/dci_sql_driver.html">Using databases</a>
      </p>
		
	
   </body>
</html>