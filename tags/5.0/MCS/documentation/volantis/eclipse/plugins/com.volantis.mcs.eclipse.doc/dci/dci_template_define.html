<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/xml;charset=UTF-8"/><title>Defining templates</title><link rel="stylesheet" href="../volantis.css"/></head><body><h1>Defining templates</h1>
		
		<p>You define DCI templates with the <span class="code">template:definition</span>. In the template you specify a set of parameters inside a <span class="code">template:declarations</span> element.</p>
			
			<p><img src="../graphics/template_definition_cm.png" alt="The template:definition element content model" title="The template:definition element content model"/></p>
			
				<h2>Template parameters</h2>
				
				<p>In a <span class="code">template:declarations</span> element parameter values can be expressed in either a <span class="code">template:simpleValue</span> or a <span class="code">template:complexValue</span> element. Simple values can contain character data only; complex values can contain both character data and pipeline markup. Alternatively, you can use the <span class="code">value</span> attribute to define the value type.</p>
				<p>The <span class="code">use</span> attribute specifies whether a parameter is optional or required. If a parameter is required, it is invalid to also define a value in the <span class="code">default</span> attribute; an error will occur if a author does not provide a value. If a parameter is optional it <em>must</em> have a default value, specified either through the default attribute or the body content of the element.</p>
				

<p><img src="../graphics/template_parameter_cm.png" alt="The template:parameter element content model" title="The template:parameter element content model"/></p>
				

<pre class="code">&lt;template:definition&gt;
   &lt;template:declarations&gt;
      &lt;template:parameter name="page_title" type="complex"
         expressionVariable="PAGE_TITLE" use="required" /&gt;
      &lt;template:parameter name="page_content" type="complex" use="optional" /&gt;
      &lt;template:parameter name="page_layout" type="simple"
		   expressionVariable="PAGE_LAYOUT" use="required" /&gt;
      &lt;template:parameter name="cache_key" type="simple" 
         expressionVariable="CACHE_KEY" use="required" /&gt;
   &lt;/template:declarations&gt;
   ...
&lt;/template:definition&gt;</pre>
			
			
				<h2>Template body</h2>
				<p>The <span class="code">template:body</span> element defines the structure of the resulting document in an open content model. You use <span class="code">template:value</span> elements to refer to template parameters, and can include pipeline operations.</p>
				<p>You can refer to multiple templates within the body of a template definition, but you can't define other templates in the body.</p>
			<pre class="code">&lt;template:definition&gt;
   ...
   &lt;template:body&gt;
      &lt;canvas layoutName='%{$PAGE_LAYOUT}' theme="/home.mthm"
         pageTitle='%{$PAGE_TITLE}'&gt;
         &lt;pipeline:cache name="maincache" key='%{$CACHE_KEY}'&gt;
            &lt;pipeline:cacheBody&gt;
               &lt;urid:fetch href="copyright.xml"/&gt;
               &lt;urid:fetch href="logo.xml"/&gt;
               &lt;urid:fetch href="global_menu.xml"/&gt;
               &lt;urid:fetch href="main_menu.xml" /&gt;
            &lt;/pipeline:cacheBody&gt;
         &lt;/pipeline:cache&gt;
      &lt;template:value ref="page_content" /&gt;
      &lt;/canvas&gt;
   &lt;/template:body&gt;
&lt;/template:definition&gt;</pre>	
			
		
				
			<h2>Documenting a template</h2>
			<p>You should document templates so that authors can make good use of them. The <span class="code">template:documentation</span> element has an open content model.</p>
			<div class="note"><strong>Note</strong>: The element is optional because it will
      have a slight impact on performance in the production
      environment. You could use a simple XSL transform to extract the information from a development version of a template for use by authors, and also generate a more efficient production version.</div>
		
						
		
			
			<p><span class="ri">Related topics</span><br/><a href="../dci/dci_template_about.html">About templates</a></p>
		
	</body></html>