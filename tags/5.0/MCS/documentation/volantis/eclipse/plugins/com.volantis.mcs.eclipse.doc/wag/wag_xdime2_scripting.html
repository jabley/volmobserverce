<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/xml;charset=UTF-8"/><title>Scripting in XDIME 2</title><link rel="stylesheet" href="../volantis.css"/></head><body><h1>Scripting in XDIME 2</h1>
      <p>In XDIME 2 you provide different variants for specific devices or
         device families in a script policy. However, the script element that
         contains the binding to the policy requires the <span class="code">mcs:</span>
         namespace prefix.</p>


      
         <h2>Events in XDIME 2</h2>
         <p>XDIME 2 supports subsets of XHTML DOM Level 2 mouse and HTML events,
            and XForms interaction and notification events. The tables show the
            events and the targeted XDIME 2 elements.</p>

         <table><thead>
               <tr>
                  <th class="firsthdr">Mouse event</th>
                  <th>XDIME 2 element</th>
               </tr>
            </thead><tbody><tr><th class="firstcell">click  </th><td>all  </td></tr><tr><th class="firstcell">mousedown  </th><td>all  </td></tr><tr><th class="firstcell">mouseup  </th><td>all  </td></tr><tr><th class="firstcell">mouseover  </th><td>all  </td></tr><tr><th class="firstcell">mousemove  </th><td>all  </td></tr><tr><th class="firstcell">mouseout  </th><td>all  </td></tr></tbody></table>

         <table><thead>
               <tr>
                  <th class="firsthdr">HTML event</th>
                  <th>XDIME 2 element</th>
               </tr>
            </thead><tbody><tr><th class="firstcell">load  </th><td>body  </td></tr><tr><th class="firstcell">unload  </th><td>body  </td></tr><tr><th class="firstcell">focus  </th><td>a  </td></tr><tr><th class="firstcell">blur  </th><td>a  </td></tr></tbody></table>

         <table><thead>
               <tr>
                  <th class="firsthdr">XForms event</th>
                  <th>XDIME 2 element</th>
               </tr>
            </thead><tbody><tr><th class="firstcell">xforms-focus  </th><td>input, secret, textarea, select, select1, submit  </td></tr><tr><th class="firstcell">xforms-submit  </th><td>submission   </td></tr><tr><th class="firstcell">xforms-value-changed  </th><td>input, secret, textarea, select, select1  </td></tr></tbody></table>
      
      
         <h2>Associating scripts with XDIME 2 events</h2>
         <p>In addition to the <span class="code">mcs:script</span> element, you use
            the <span class="code">event:listener</span> and the
            <span class="code">mcs:handler</span> elements.</p>
         <p>In the listener, you specify the identifier of the event in the
               <span class="code">observer</span> attribute, the fragment identifier of a
            local event handler in the <span class="code">handler</span> attribute, and the
            event type in the <span class="code">event</span> attribute. The handler contains
            an inline script, that may also call functions in a script
            component. Currently the 'text/javascript' type is supported.</p>

         <p>The example shows a call from the handler to an inline function in
            the <span class="code">mcs:script</span> element.</p>
         <pre class="code">&lt;html 
    xmlns="http://www.w3.org/2002/06/xhtml2" 
    xmlns:mcs="http://www.volantis.com/xmlns/2006/01/xdime/mcs" 
    xmlns:event="http://www.w3.org/2001/xml-events"&gt;
    &lt;head&gt;
        &lt;title&gt;Welcome to XDIME Events&lt;/title&gt;
        &lt;mcs:script&gt;function display(m) {alert("displaying " + m)}&lt;/mcs:script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;mcs:handler id="handler" type="text/javascript"&gt;
           display('click')
        &lt;/mcs:handler&gt;
        &lt;event:listener observer="p" handler="#handler" event="click" /&gt;
        &lt;p id="p"&gt;An example paragraph&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</pre>
      


      
         <p><span class="ri">Related topics</span><br/><a class="link" target="" href="../wag/xdime2_about.html">Working with XDIME 2</a><br/><a class="link" target="" href="../xdime_cp/event_listener.html">event:listener</a><br/><a class="link" target="" href="../xdime_cp/mcs_handler.html">mcs:handler</a><br/><a class="link" target="" href="../xdime_cp/mcs_script.html">mcs:script</a><br/></p>
      
   </body></html>