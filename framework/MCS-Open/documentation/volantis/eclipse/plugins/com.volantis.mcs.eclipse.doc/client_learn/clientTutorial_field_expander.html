<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/xml;charset=UTF-8"/><title>Expanding a form field</title><link rel="stylesheet" href="../volantis.css"/></head><body><table class="header"><tr><td class="navcontainer"><ul class="navlist"><li><a href="../client_learn/clientTutorial_about.html" title="Using the widget library">Start</a></li><li><a href="../client_learn/clientTutorial_folding_item.html" title="Hiding and showing content">Previous</a></li><li><a href="../client_learn/clientTutorial_forms_validator_simple.html" title="Validating a form">Next</a></li></ul></td></tr></table><h1>Expanding a form field</h1>
    <p>The Field Expander widget hides fields in a form or wizard step, until a related form field
      receives focus. so you can reduce 'clutter' in a form with many fields to complete.</p>
    <p>In the this example, the 'Login' and 'Password' fields are initially hidden. They are made
      visible when focus is moved to the 'Name' field.</p>
    <p><img src="../graphics/cfTutorial/fieldexpander.png" alt="Field Expander widget" title="Field Expander widget"/></p>
  <h2>Form instance data <a href="../wag/xdime_cp_formdata.html"><img src="../icons/icon_help.png" border="0" alt="Learn More"/></a></h2><p>Widget form elements include the XDIME 2 elements from the XForms namespace. They provide
      both the form model and the basic structure inside the widget.</p><ol><li>For this task, create a <span class="filepath">fieldexpander.xdime</span> file</li><li>Within the <span class="code">head</span> element, the required <span class="code">xf:model</span>
      element defines the model for the form. Add the element and its instance data definitions to
      specify three items: 'name', 'login' and 'password'.<pre class="code">
&lt;xf:model&gt;
  &lt;xf:instance&gt;
    &lt;si:instance&gt;
      &lt;si:item name="name"/&gt;
      &lt;si:item name="login"/&gt;
      &lt;si:item name="password"/&gt;
    &lt;/si:instance&gt;
  &lt;/xf:instance&gt;
&lt;/xf:model&gt;</pre>
    </li><li>The <span class="uicontrol">Toggle event</span> property specifies the event on which hidden form
      elements will be shown. Possible values are: 'focus' or 'click'.<pre class="code">
&lt;style type="text/css" media="handheld,all"&gt;
  .fexpander {
    mcs-toggle-event: focus;
  }
&lt;/style&gt;</pre></li></ol><h2>Expanding a form field <a href="../client/wag_widgets_field_expander.html"><img src="../icons/icon_help.png" border="0" alt="Learn More"/></a></h2><ol><li>Now enter the form elements inside <span class="code">widget:field-expander</span> element. The
      hidden form controls are enclosed by the <span class="code">xf:group</span> element until the
        <span class="code">xf:input</span> element, with <span class="code">ref</span> set to 'name', receives focus.<pre class="code">
&lt;div class="widget"&gt;
   &lt;div&gt;Focus inside the "Name" field to see the rest of the form.&lt;/div&gt;
   &lt;widget:field-expander class="fexpander" id="myFieldExpander"&gt;
      &lt;xf:input ref="name"&gt;
         &lt;xf:label&gt;Name &lt;/xf:label&gt;
      &lt;/xf:input&gt;
      &lt;xf:group&gt;
         &lt;div style="mcs-layout: 'layouts/2x2.mlyt'"&gt;
            &lt;xf:input ref="login" style="mcs-container: 'top-right'"&gt;
               &lt;xf:label style="mcs-container: 'top-left'"&gt;Login&lt;/xf:label&gt;
            &lt;/xf:input&gt;
            &lt;xf:input ref="password" style="mcs-container: 'bottom-right'"&gt;
               &lt;xf:label style="mcs-container: 'bottom-left'"&gt;Password&lt;/xf:label&gt;
            &lt;/xf:input&gt;
          &lt;/div&gt;
      &lt;/xf:group&gt;
   &lt;/widget:field-expander&gt;
&lt;/div&gt;</pre></li></ol><h2>Complete XDIME 2 code</h2><p>Your complete <span class="filepath">fieldexpander.xdime</span> code should look like this.</p><pre class="code">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;html xmlns="http://www.w3.org/2002/06/xhtml2"
  xmlns:mcs="http://www.volantis.com/xmlns/2006/01/xdime/mcs"
  xmlns:template="http://www.volantis.com/xmlns/marlin-template"
  xmlns:widget="http://www.volantis.com/xmlns/2006/05/widget"
  xmlns:si="http://www.volantis.com/xmlns/2006/01/xdime2/si"
  xmlns:xf="http://www.w3.org/2002/xforms"
  xmlns:urid="http://www.volantis.com/xmlns/marlin-uri-driver"&gt;
  &lt;head&gt;
    &lt;title&gt;Field Expander Widget&lt;/title&gt;
    &lt;link rel="mcs:theme" href="/themes/main.mthm"/&gt;
    &lt;link rel="mcs:layout" href="/layouts/main.mlyt"/&gt;
    &lt;style type="text/css" media="handheld,all"&gt;
      .fexpander {
        mcs-toggle-event: focus;
      }
    &lt;/style&gt;
    &lt;xf:model&gt;
      &lt;xf:instance&gt;
        &lt;si:instance&gt;
          &lt;si:item name="login"/&gt;
          &lt;si:item name="password"/&gt;
        &lt;/si:instance&gt;
      &lt;/xf:instance&gt;
    &lt;/xf:model&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;template:apply href="templates/demo-main.xdtpl"&gt;
      &lt;template:binding name="title" value="Field Expander"/&gt;
      &lt;template:binding name="content"&gt;
        &lt;template:complexValue&gt;
          &lt;div class="widget"&gt;
            &lt;div&gt;Focus inside the "Name" field to see the rest of the form.&lt;/div&gt;
            &lt;widget:field-expander class="fexpander" id="myFieldExpander"&gt;
              &lt;xf:input ref="name"&gt;
                &lt;xf:label&gt;Name &lt;/xf:label&gt;
              &lt;/xf:input&gt;
              &lt;xf:group&gt;
                &lt;div style="mcs-layout: 'layouts/2x2.mlyt'"&gt;
                  &lt;xf:input ref="login" style="mcs-container: 'top-right'"&gt;
                    &lt;xf:label style="mcs-container: 'top-left'"&gt;Login&lt;/xf:label&gt;
                  &lt;/xf:input&gt;
                  &lt;xf:input ref="password" style="mcs-container: 'bottom-right'"&gt;
                    &lt;xf:label style="mcs-container: 'bottom-left'"&gt;Password&lt;/xf:label&gt;
                  &lt;/xf:input&gt;
                &lt;/div&gt;
              &lt;/xf:group&gt;
            &lt;/widget:field-expander&gt;
          &lt;/div&gt;
        &lt;/template:complexValue&gt;
      &lt;/template:binding&gt;
    &lt;/template:apply&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre><h2>Checklist</h2>
    <table cellspacing="0"><thead><tr><th class="firsthdr">Name</th><th>Purpose</th></tr></thead><tbody><tr><th class="firstcell"><a href="../xdime_cp/xdime_cp_div.html">div</a></th><td><p>A section used to add extra structure to documents. Style sheets can be used to control the
        presentation.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/si_instance.html">si:instance</a></th><td><p>Container for data items used to supply initial values for forms controls, or to provide
        additional data to be submitted with the form.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/si_item.html">si:item</a></th><td><p>Defines an item of instance data that is required if a form control needs to be
        initialized, or when data not associated with a form control needs to be provided during
        form submission.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/widget_field_expander.html">widget:field-expander</a></th><td><p>Defines a Field Expander widget that includes initially hidden form fields.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/xf_group.html">xf:group</a></th><td><p>Combines a set of form controls into a user interface component. By applying theme
        properties on this element, you can control where form fragmentation occurs, and define or
        override at runtime the link texts specified on form fragment layouts.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/xf_input.html">xf:input</a></th><td><p>A form control for text input.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/xf_instance.html">xf:instance</a></th><td><p>Optional element that contains instance data associated with the <span class="code">model</span>
        element. It is used to supply initial values for forms controls, or to provide additional
        data to be submitted with the form.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/xf_label.html">xf:label</a></th><td><p>Provides a descriptive label for forms controls.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/xf_model.html">xf:model</a></th><td><p>Represents a form definition, used as a container for elements associated with its
        submission.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/core_attr_cp.html">Core attributes</a></th><td><p>Attributes that are common to XDIME 2 elements.</p></td></tr></tbody></table>
  </body></html>