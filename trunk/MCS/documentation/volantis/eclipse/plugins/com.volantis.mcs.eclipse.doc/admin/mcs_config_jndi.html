<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
   <head>
      <meta content="application/xhtml+xml" http-equiv="Content-Type"/>
      <title>Configuring a JNDI datasource</title>
      <link rel="stylesheet" href="../volantis.css"/>
   </head>
   <body>
      <h1>Configuring a JNDI datasource</h1>

        
      <p>The <span class="code">jndi-configuration</span> section of the <span class="filepath">mcs-config.xml</span> file contains the definition of a configuration of one or more JNDI datasources. You can refer to this definition when you specify a <span class="code">jndi-data-source</span> element in the <span class="code">local-repository</span> section of the configuration file.</p>

       
      <p>The <span class="code">name</span> attribute on the <span class="code">initial-context</span> element defines the starting context for resolving JNDI names. The <span class="code">parameter</span> element allows you to specify any name/value pairs required by a particular JNDI service.</p>

        
      <pre class="code">
&lt;jndi-configuration&gt;
   &lt;initial-context name="myContext"&gt;
      &lt;parameter
         name="java.naming.factory.initial"
         value="com.ibm.websphere.naming.WsnInitialContextFactory"/&gt;
   &lt;/initial-context&gt;
&lt;/jndi-configuration&gt;</pre>


      <p>The next listing shows a matching <span class="code">local-repository</span> entry. The <span class="code">initial-context</span> attribute on the <span class="code">jndi-data-source</span> element must match the name of the name attribute on the initial-context element defined in the <span class="code">jndi-configuration</span>. The <span class="code">name</span> attribute sets the name of the data source within the initial context.</p>


      <pre class="code">
&lt;local-repository&gt;
   &lt;jdbc-repository&gt;
      &lt;anonymous-data-source
        user="[user]"
        password="[password]"&gt;
         &lt;jndi-data-source
            initial-context="myContext"
            name="datasourceName"/&gt;
      &lt;/anonymous-data-source&gt;
   &lt;/jdbc-repository&gt;
&lt;local-repository&gt;</pre>
      
		
			
      <p>
         <span class="ri">Related topics</span>
         <br/>
         <a href="../admin/mcs_configure.html">Configuring MCS</a>
      </p>
			
		
		
			
      <p>
         <span class="ri">Element references</span>
         <br/>
         <a href="../mcs_config/config_initial_context.html">initial-context</a>
         <br/>
         <a href="../mcs_config/config_jndi_config.html">jndi-configuration</a>
         <br/>
         <a href="../mcs_config/config_jndi_datasource.html">jndi-data-source</a>
      </p>
		
	
   </body>
</html>