<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/xml;charset=UTF-8"/><title>Iterator panes</title><link rel="stylesheet" href="../volantis.css"/></head><body><h1>Iterator panes</h1>
      <p>If you need to present sets of results from a dynamic data
         source, or a layout in which the content changes over time,
         you can use a format iterator.</p>
      <p>Spatial iterators handle tables with both fixed and variable
         numbers of rows from a database query or a web search engine.</p>
      <div class="note"><strong>Note</strong>: Using column and row iterators is deprecated
         from MCS 3.2. They will be removed in a later release of MCS.
         Nested menus are not supported in column and row iterator
         panes.</div>
      <p>A temporal iterator allows you to create a time-based,
         sequences for use with the Message Preparation Sever (MPS).</p>
      
         <h2>Spatial iteration</h2>
      
      <p>A spatial iterator defines both rows and columns in a single
         format. You can specify either an exact number of iterations
         or an upper limit, and also define the order of indexing the
         generated panes - rows or columns first. A single pane
         defines the content.</p>
      <p>Another use of iterators is to enclose regions, so that
         variable numbers of portlets or content sources can be
         combined in a single layout. The syntax for using a fixed
         region name outside a format iterator is identical to that
         for panes.</p>
      <p>Inside an iterator, you can use the function expressions
         <span class="code">layout:getPaneInstance()</span> or <span class="code">layout:getRegionInstance()</span>, which take a
         string and a series of integer index values to refer to the
         instances of the panes or regions within the iterator.</p>
      <pre class="code">&lt;region
   name="{layout:getRegionInstance('name', 0, 1, 2, 3)}"&gt;
   ...
&lt;region&gt;</pre>
      
         <h2>Using iterators in a grid</h2>
      
      <p>The figure shows how a spatial iterator and its content
         appear in a Layout editor Design page. The grid contains a
         row of five panes. Named isbn, author, title, date and price,
         they act as column definitions for information about books.</p>
      <p><img src="../graphics/layout_spatial.png" alt="Spatial iterator" title="Spatial iterator"/></p>
      <p>The table illustrates the results that are output by the
         format iterator, and how the generated pane instances are
         identified in relation to the unique names in the layout
         definition. The name of the pane, for example, isbn, is
         combined with a sequential index number starting at zero for
         the first row.</p>
      <table cellspacing="0" summary=""><thead>
            <tr align="left" valign="top">
               <td class="noborder">isbn.0</td>
               <td class="noborder">author.0</td>
               <td class="noborder">title.0</td>
               <td class="noborder">date.0</td>
               <td class="noborder">price.0</td>
            </tr>
         </thead><tbody><tr><td class="noborder">isbn.1  </td><td class="noborder">author.1  </td><td class="noborder">title.1  </td><td class="noborder">date.1  </td><td class="noborder">price.1  </td></tr><tr><td class="noborder">isbn.2  </td><td class="noborder">author.2  </td><td class="noborder">title.2  </td><td class="noborder">date.2  </td><td class="noborder">price.2  </td></tr></tbody></table>
      <p>The XDIME example populates the layout with simple content
         using the expression function
         <span class="code">layout:getPaneInstance()</span> to refer to the
         instances of the panes within the spatial iterator. This
         function returns a reference to one instance of a pane within
         an iterating format.</p>
      <pre class="code">&lt;!-- First book --&gt;
&lt;p pane="{layout:getPaneInstance('isbn',0)}"&gt;1-56592-622-6&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance('author',0)}"&gt;Cascading style sheets&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance(title,0)}"&gt;Eric A Mayer&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance('date',0)}"&gt;2000&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance('price',0)}"&gt;$34.95&lt;/p&gt;
&lt;!-- Second book --&gt;
&lt;p pane="{layout:getPaneInstance('isbn',1)}"&gt;0-7645-4336&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance('author',1)}"&gt;Professional WebSphere 5.0 Applications&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance(title,1)}"&gt;Tim Francis and others&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance('date',1)}"&gt;2003&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance('price',1)}"&gt;$79.99&lt;/p&gt;
&lt;!-- Third book --&gt;
&lt;p pane="{layout:getPaneInstance('isbn',2)}"&gt;0-07-882396-X&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance('author',2)}"&gt;The XML handbook&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance(title,2)}"&gt;Charles Goldfarb, Paul Prescod&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance('date',2)}"&gt;2001&lt;/p&gt;
&lt;p pane="{layout:getPaneInstance('price',2)}"&gt;$49.99&lt;/p&gt;</pre>
      <div class="note"><strong>Note</strong>: MCS does not generate tables for layout grid items in WML because they are output with borders on most devices.</div>
      
         <h2>Temporal iteration</h2>
      
      <p>Temporal iterators work in a similar way to spatial
         iterators. The associated attributes define the transition
         between presentation of one set of content and the next.</p>
      <p>In the preceding example the booklist index values 0-2 for
         the output pane instances could be associated with time
         intervals. This might not be effective in a text-only
         presentation, but it would make sense if the content was a
         series of book cover images.</p>
      <p>This kind of indexing can also be used in MPS messages, to
         present information in a sequence of pages on devices with
         small displays.</p>
      
         <p><span class="ri">Related topic</span><br/><a href="../layouts/layout_canvas_panes.html">Canvas layouts and panes</a><br/><a href="../wag/layout_getpaneinstance.html">layout:getPaneInstance</a><br/><a href="../wag/layout_getregioninstance.html">layout:getRegionInstance</a></p>
      
   </body></html>