<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/xml;charset=UTF-8"/>
      <meta name="taskref" content="024"/>
      <title>Resolving variant URLs</title>
      <link rel="stylesheet" href="../volantis.css"/>
   </head>
   <body>
      <h1>Resolving variant URLs</h1>
      
      <p>The way MCS constructs basic variant URLs depends on a
         combination of settings, including the variant attributes, the
         associated asset group, and the MCS configuration file. In
         some server configurations, it may be possible to specify
         modifications to the basic URL in the configuration file. MCS
         may also process suffix information in XDIME attributes, or
         handle custom code to rewrite URLs. You can also define URLs
         directly on some XDIME elements.</p>
      
         
      <h2>Local repository variants</h2>
         
      <p>The required <span class="uicontrol">URL</span> value that you
            enter in the Content section of a component editor always
            forms the last part of the variant URL. Usually this is the
            filename of the variant.</p>
         
      <p>If you have not defined an asset group, MCS obtains the
            prefix from the MCS configuration file. For example, if
            the variant is an image, MCS concatenates the
               <span class="code">prefix-url</span> attribute of the
               <span class="code">image-assets</span> element tag in the MCS
            configuration file with the <span class="uicontrol">URL</span>
            value.</p>
         
      <pre class="code">&lt;assets base-url="/[context_root]/"&gt;
   &lt;audio-assets prefix-url="/audio/"/&gt;
   &lt;dynamic-visual-assets prefix-url="/dynvis/"/&gt;
   &lt;image-assets prefix-url="/images/"/&gt;
   &lt;script-assets prefix-url="/scripts/"/&gt;
   &lt;text-assets prefix-url="/text/"/&gt;
&lt;/assets&gt;</pre>
         
      <p>If you have defined an asset group in a component, MCS
            uses its <span class="uicontrol">Prefix URL</span> value from the
            asset group editor as a prefix. If neither the
            configuration file prefix, nor the asset group prefix is
            specified, MCS uses the <span class="uicontrol">URL</span>
            attribute by itself.</p>
      
      
         
      <h2>Device variants</h2>
         
      <p>If you set the asset group <span class="uicontrol">Location</span>
            attribute to 'Device', you are defining a variant stored on the
            device itself, such as an icon built into a mobile phone.
            Depending on the device the <span class="uicontrol">Prefix
            URL</span> may require a <span class="code">file:///</span> URL to
            prefix the value. You might also use a WML icon reference
            as a variant value.</p>
      
      
         
      <h2>Remote repository variants</h2>
         
      <p>When you need to address variants stored in an remote
            repository, you set the asset group
            <span class="uicontrol">Location</span> control to 'Server' and
            the <span class="uicontrol">Prefix URL</span> identifies the
            server. The remote repository server is responsible for
            resolving the variant location.</p>
         
      <p class="note">
         <strong>Note</strong>: Temporary network and server problems may
            affect the operation of MCS in cases where you are relying
            on the remote policies.</p>
      
      
         
      <h2>Modifying basic URL values</h2>
         
      <p>MCS supports application and web server configurations in
            cases when the web server routes all requests to the
            application server after removing a specific prefix. You
            can define this prefix using the <span class="code">base-url</span>
            attribute on the <span class="code">web-application</span>
            element in the <span class="filepath">mcs-config.xml</span> file.
            If this attribute is not specified then no changes are
            made to the variant URLs.</p>
         
      <p>For other application server configurations, developers
            can use the <span class="code">AssetURLRewriter</span> interface to
            modify the variant URLs before they are added to the output.</p>
         
      
      
         
      <h2>URL suffixes</h2>
         
      <p>Some kinds of variant, for example dynamic visual variants,
            support the addition of a URL suffix, specified as the
               <span class="code">assetURLsuffix</span> attribute on the XDIME
            element. These may take the form of a query string, for
            example in entitlement information in systems where access
            to content is authorized or billed. MCS adds the suffix to
            the final variant URL without attempting to interpret
         it.</p>
      
      
         
      <h2>URLs in XDIME elements</h2>
         
      <p>If you use a URL directly in XDIME, MCS adds it to the
            generated page as an attribute of an element in the target
            mark-up. For example, in an <span class="code">img</span> element
            you use the <span class="code">url</span> attribute. If the image is
            convertible variant to be transcoded you use the
            <span class="code">urlc</span> attribute.</p>
      
      
         
      <p>
         <span class="ri">Related topics</span>
         <br/>
         <a href="wag_about_ce.html">Web author's guide</a>
      </p>
      
   
   </body>
</html>