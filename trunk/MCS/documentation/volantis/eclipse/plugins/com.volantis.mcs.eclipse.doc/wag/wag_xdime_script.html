<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/xml;charset=UTF-8"/>
      <title>Using scripts</title>
      <link rel="stylesheet" href="../volantis.css"/>
   </head>
   <body>
      <h1>Using scripts</h1>
      
      <p>You can use device specific scripts in pages that are device
         independent, providing different versions for specific
         devices or device families. You use a script component to
         define the script for a device. MCS selects the appropriate
         version of the script to use based on the characteristics of
         the device accessing the page.</p>
      
         
      <h2>Script variants</h2>
         
      <p>A script variant can contain the script code itself or the
            URL of the script code. You use the <span class="uicontrol">Value
            type</span> to define which it is. A value of 'URL'
            specifies that the variant contains the URL of the script,
            and a value of 'Literal' specifies that the variant
            contains the script itself.</p>
         
      <p>The required <span class="uicontrol">Programming language</span>
            attribute defines the programming language of the script.
            For example, MCS generates this value in the
               <span class="code">language</span> attribute of the HTML
               <span class="code">script</span>.</p>
         
      <p>You must also use the <span class="uicontrol">MIME Type</span>
            control to select the type associated with the scripting
            language, for example 'text/javascript'.</p>
         
      <p>Optionally, you can use the <span class="uicontrol">Character
            Set</span> attribute to define the character set in
            which the script is written. If specified, MCS uses the
            for the <span class="code">charset</span> attribute on the HTML
               <span class="code">script</span> element.</p>
         
      <p>MCS locates the most appropriate variant by traversing the
            tree of device-dependent variants in just the same way as
            it does for text variants or device images. If there is no
            script variant available for the specific device, the
            search proceeds through the parents of that device until
            a variant is found.</p>
         
      <p>Script components are unusual in that they do not support
            fallback to text. However, you can provide alternate
            content by using the <span class="code">noscript</span> element.
         </p>
      
      
         
      <h2>Associating scripts with events</h2>
         
      <p>MCS invokes a script in response to an event, such as a
            mouse action or key press. So you can refer to scripts
            from any of the event attributes used in XDIME. For
            example, you might define an <span class="code">onmousedown</span>
            attribute to point to your script component with an inline
               <span class="code">a</span> element. The script will display
            information about the source document before the user
            releases the mouse button.</p>
         
      <pre class="code">&lt;a onclick="{/showmetadata.mscr}"&gt;Administering MCS&lt;/a&gt;</pre>
      
      
         
      <h2>The script element</h2>
         
      <p>Refering to script variants from events is a useful
            feature for very simple scripts, but suppose that you want
            to load a script containing several functions and refer
            directly to the functions from event attributes. In this
            case you can define a script reference with the
               <span class="code">script</span> element. </p>
         
      <pre class="code">&lt;script
   id="ro1"
   src="{/ReleaseOpts.mscr}"
   defer="true"/&gt;</pre>
         
      <p>You use the <span class="code">src</span> attribute to refer to the
            script component to use, or to refer directly to a script
            file using a URL. If it contains an MCS expression in the
            form <span class="code">{[component_name]}</span> MCS uses the named
            script component. If this attribute contains literal text,
            MCS looks for a script file.</p>
         
      <p>In the example the component named 'ReleaseOpts' is
            referenced. The <span class="code">id</span> attribute is the unique
            identifier for the script. The <span class="code">defer</span>
            attribute specifies that the browser can defer
            interpretation of the script to improve initial page
            loading performance.</p>
         
      <p>A script variant associated with this component contains a
            JavaScript function, <span class="code">function
               setReleaseOptions(intprd,type)</span>.</p>
         
      <p>Now you can call the function directly from a single
            select element on a form.</p>
         
      <pre class="code">&lt;xfform class="myform" name="task"&gt;
   &lt;xfsiselect
      styleClass="myform" name="product"
      onchange="setReleaseOptions(task.product.selectedIndex,1)"&gt;
   &lt;/xfsiselect&gt;
   ...
&lt;/xfform&gt;</pre>
      
      
         
      <h2>The noscript element</h2>
         
      <p>To provide alternative markup for use when a script is not
            available you can use the optional
            <span class="code">noscript</span>. MCS uses the
            <span class="code">idref</span> attribute value to locate to a
               <span class="code">script</span> element with a matching
               <span class="code">id</span> attribute. The replacement text goes in
            the element content.</p>
         
      <p>If the devicecan handle JavaScript, MCS wraps the content
            with the HTML <span class="code">noscript</span> tags.</p>
         
      <p>MCS will also render <span class="code">noscript</span> content
            in the following cases:</p>
         
      <ul>
            
         <li>The device does not support scripting</li>
            
         <li>No suitable script variant is available</li>
            
         <li>The user has turned scripting</li>
            
         <li>The script element it refers to is missing</li>
         
      </ul>
         
      <p class="note">
         <strong>Note</strong>: If you use <span class="code">noscript</span>, it
            must appear after the <span class="code">script</span> element to
            which it refers.</p>
         
      <pre class="code">&lt;noscript idref="showmetadata"&gt;
   &lt;pane name="result_pane"&gt;
      &lt;p&gt;The information cannot be displayed. JavaScript may be
      disabled or not supported.&lt;/p&gt;
   &lt;/pane&gt;
&lt;/noscript&gt;</pre>
      
      
         
      <p>
         <span class="ri">Related topics</span>
         <br/>
         <a href="../wag/wag_xdime_about.html">Working with XDIME</a>
         <br/>
         <a href="../xdime/xdime_noscript.html"/>
         <br/>
         <a href="../xdime/xdime_script.html"/>
      </p>
      
   
   </body>
</html>