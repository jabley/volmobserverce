<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/xml;charset=UTF-8"/><title>Stopwatch and timer</title><link rel="stylesheet" href="../volantis.css"/></head><body><h1>Stopwatch and timer</h1>
    <p>The Stopwatch and Timer widgets can be used to measure time. The Stopwatch widget allows the
      user to record lap times, while the Timer widget may count time, both up and down, in a
      predefined range, for example time left to the end of the auction. In addition, it can invoke
      a specified action when the time limit is reached.</p>
    <p>Both stopwatch and timer use the same display mechanism as the Clock widget. They also share
      some XDIME elements and style properties. See <em>Showing current time</em> for more
      information.</p>
    
      <h2>Visual appearance</h2>
      <p>Time is displayed in a form of a digital clock, similar to that described in <em>Showing current time</em>. A stopwatch as well as a timer can be placed within other data
        containing widgets, for example carousel, popup, tabs or ticker tape.</p>
    
    
      <h2>User interactions</h2>
      <p>The user can start, stop, and reset both stopwatch and timer using the provided controls.</p>
      <p>The Stopwatch widget may record the lap times in two modes. In lap mode, when the user
        captures a lap time, it is shown below the stopwatch display, with the same styles as the
        main clock. After recording the lap time the stopwatch is reset, and starts counting time
        again until the next lap time is recorded. When the stop button is pressed, the list of all
        the lap times and the total time are displayed. In split mode recording a lap time does not
        reset the stopwatch.</p>
    
    
      <h2>XDIME 2 elements</h2>
      <p>The Stopwatch widget is defined by <span class="code">widget:stopwatch</span>. The
          <span class="code">widget:button</span> elements associated with the appropriate actions allow
        the user to control it.</p>
      <pre class="code">
&lt;widget:stopwatch id="myStopwatch"/&gt;

&lt;widget:button action="myStopwatch#start"&gt;Start&lt;/widget:button&gt;
&lt;widget:button action="myStopwatch#stop"&gt;Stop&lt;/widget:button&gt;
&lt;widget:button action="myStopwatch#reset"&gt;Reset&lt;/widget:button&gt;
&lt;widget:button action="myStopwatch#split"&gt;Lap time&lt;/widget:button&gt;</pre>
      <p>The <span class="code">widget:timer</span> element defines a timer. The optional
        <span class="code">start-time</span> and <span class="code">stop-time</span> attributes specify a range in which time
        will be measured. Values of those two attributes must be given in milliseconds. Depending on
        the values you set, the timer will count either up or down.</p>
      <pre class="code">
&lt;widget:timer id="myTimer" start-time="0" stop-time="600000"/&gt;

&lt;widget:button action="myTimer#start"&gt;Start&lt;/widget:button&gt;
&lt;widget:button action="myTimer#stop"&gt;Stop&lt;/widget:button&gt;
&lt;widget:button action="myTimer#reset"&gt;Reset&lt;/widget:button&gt;</pre>
      <p>The <span class="code">finished</span> event can invoke an action when the time limit is reached.</p>
      <pre class="code">
&lt;widget:popup id="popupOnFinish"&gt;Your time is up!&lt;/widget:popup&gt;
&lt;widget:handler event="myTimer#finished" action="popupOnFinish#show"/&gt;</pre>
      <p>The load action can be used to set the <span class="code">start-time</span> and <span class="code">stop-time</span>
        attributes with AJAX.</p>
      <pre class="code">
&lt;widget:timer id="myTimer"&gt;
  &lt;widget:load src="service/timer"/&gt;
&lt;/widget:timer&gt;</pre>
      <p>The widget response should have the following structure.</p>
      <pre class="code">
&lt;response:response xmlns="http://www.w3.org/2002/06/xhtml2"
  xmlns:mcs="http://www.volantis.com/xmlns/2006/01/xdime/mcs"
  xmlns:response="http://www.volantis.com/xmlns/2006/05/widget/response"&gt;
  &lt;response:head&gt;
    &lt;response:link rel="mcs:theme" href="/main.mthm"/&gt;
  &lt;/response:head&gt;
  &lt;response:body&gt;
    &lt;response:timer start-time="0" stop-time="600000"/&gt;
  &lt;/response:body&gt;
&lt;/response:response&gt;</pre>
      <p>Both widgets may contain the <span class="code">widget:clock-content</span> elements which can
        specify custom markup, for example text or image components, for the parts of the clock. See
          <em>Showing current time</em> for details.</p>
    
    
      <h2>Styling the widget</h2>
      <p>The <span class="code">mcs-count-mode</span> property is used to set the stopwatch mode. Possible values
        are: 'split' (default) and 'lap'.</p>
      <p>The <span class="code">mcs-datetime-format</span> property defines a time format. See <em>Showing current time</em> for more information.</p>
      <div class="note"><strong>Note</strong>: Those style properties are not available as the theme editor controls. They
        must be used in their CSS form. Refer to <em>Styling widgets</em> for more
        information. </div>
    
    
      <h2>Non-client fallback</h2>
      <p>If a device does not support those widgets then they are ignored and do not produce any
        markup.</p>
    
    
      <p><span class="ri">Related topics</span><br/><a class="link" href="../client/widget_library.html">Widget library</a><br/><a class="link" href="../client/wag_widgets_clock.html">Showing current time</a><br/><a class="link" href="../xdime_cp/widget_stopwatch.html">widget:stopwatch</a><br/><a class="link" href="../xdime_cp/widget_timer.html">widget:timer</a><br/><a class="link" href="../xdime_cp/response_timer.html">response:timer</a><br/><a class="link" href="../client/wag_widgets_actions.html">Load, refresh and fetch actions</a><br/><a class="link" href="../client/wag_widgets_javascript.html">JavaScript support</a><br/></p>
    
  </body></html>