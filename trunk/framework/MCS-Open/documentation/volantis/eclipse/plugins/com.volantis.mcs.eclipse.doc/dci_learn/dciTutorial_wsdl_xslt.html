<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/xml;charset=UTF-8"/><title>Transforming web service response</title><link rel="stylesheet" href="../volantis.css"/></head><body><table class="header"><tr><td class="navcontainer"><ul class="navlist"><li><a href="../dci_learn/dciTutorial_about_dci.html" title="Adding dynamic content">Start</a></li><li><a href="../dci_learn/dciTutorial_wsdl_about.html" title="Accessing web services">Previous</a></li><li><a href="../dci_learn/dciTutorial_wsdl_xdime.html" title="Making a service request">Next</a></li></ul></td></tr></table><h1>Transforming web service response</h1>
    <p>First, we have to create an XSL transformation that will convert the data returned by the web
      service driver to XDIME presentation markup. In the next module you will learn how to
      incorporate it into an XDIME page.</p>
  <h2>Using transformsÂ <a href="../dci/dci_transform.html"><img src="../icons/icon_help.png" border="0" alt="Learn More"/></a></h2><ol><li>The web service driver returns the data in the following form<pre class="code">
&lt;wsr:response&gt;  
  &lt;wsr:message&gt;
    &lt;!-- message here--&gt;
  &lt;/wsr:message&gt;
&lt;/wsr:response&gt;</pre></li><li>We need to create an XSL transform to filter required information and convert it to XDIME
      presentation markup. The following transformation must be saved in the
        <span class="filepath">Volantis/MCS/webapps/mcs/tutorial/xsl/</span> directory as
        <span class="filepath">ws2xdime.xsl</span>. <pre class="code">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;
  &lt;xsl:template match="/"&gt;
    &lt;div xmlns="http://www.w3.org/2002/06/xhtml2"
      xmlns:wsr="http://www.volantis.com/xmlns/marlin-web-service-response"&gt;
      &lt;p&gt; 20 C = &lt;xsl:value-of select="wsr:response/wsr:message"/&gt; F &lt;/p&gt;
    &lt;/div&gt;
  &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;</pre>
    </li><li>The transform will produce an XDIME fragment similar to the one shown below
    <pre class="code">
&lt;div xmlns="http://www.w3.org/2002/06/xhtml2"
  xmlns:wsr="http://www.volantis.com/xmlns/marlin-web-service-response"&gt;
  &lt;p&gt; 20 C = 68 F &lt;/p&gt;
&lt;/div&gt;</pre></li></ol><h2>Checklist</h2>
    <table cellspacing="0"><thead><tr><th class="firsthdr">Name</th><th>Purpose</th></tr></thead><tbody><tr><th class="firstcell"><a href="../xdime_cp/xdime_cp_div.html">div</a></th><td><p>A section used to add extra structure to documents. Style sheets can be used to control the
        presentation.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/xdime_cp_p.html">p</a></th><td><p>Block element that defines a paragraph.</p></td></tr><tr><th class="firstcell"><a href="../xdime/wsr_message.html">wsr:message</a></th><td><p>Container for the response message. This element has an open content model.</p></td></tr><tr><th class="firstcell"><a href="../xdime/wsr_response.html">wsr:response</a></th><td><p>Container for a web service response.</p></td></tr></tbody></table>
  </body></html>