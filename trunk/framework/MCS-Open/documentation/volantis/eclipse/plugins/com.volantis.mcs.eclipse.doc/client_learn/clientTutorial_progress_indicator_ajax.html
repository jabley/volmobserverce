<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/xml;charset=UTF-8"/><title>Active progress bar</title><link rel="stylesheet" href="../volantis.css"/></head><body><table class="header"><tr><td class="navcontainer"><ul class="navlist"><li><a href="../client_learn/clientTutorial_about.html" title="Using the widget library">Start</a></li><li><a href="../client_learn/clientTutorial_gallery_flickr.html" title="Displaying images from Flickr">Previous</a></li><li><a href="../client_learn/clientTutorial_tabs_ajax.html" title="Using tabs">Next</a></li></ul></td></tr></table><h1>Active progress bar</h1>
    <p>A Progress Bar widget provides a visual indication of the amount of a process that has been
      completed and the amount that remains. It operates in one of two modes, active and passive. In
      active mode the widget periodically queries the server to obtain the latest percentage
      complete state. In passive mode widget waits for one of its JavaScript methods to be called.</p>
    <p>Here we will demonstrate how to create an active progress bar using the refresh action.
      Please see <em>Showing progress</em> to learn about the passive
      Progress Bar widget.</p>
    <p><img src="../graphics/cfTutorial/progressbar-ajax.png" alt="Progress Bar widget" title="Progress Bar widget"/></p>
  <h2>Showing progress <a href="../client/wag_widgets_progress_indicator.html"><img src="../icons/icon_help.png" border="0" alt="Learn More"/></a></h2><ol><li>The <span class="code">widget:progress</span> element defines a progress bar <pre class="code">
&lt;widget:progress id="myProgressBar"&gt;
  &lt;widget:refresh id="refresh" src="service/progress" interval="4"/&gt;
&lt;/widget:progress&gt;</pre>
    </li></ol><h2>Load, refresh and fetch actions <a href="../client/wag_widgets_actions.html"><img src="../icons/icon_help.png" border="0" alt="Learn More"/></a></h2><ol><li>The refresh action allows to update the percentage of a task that has been completed<pre class="code">
&lt;widget:refresh id="refresh" src="service/progress" interval="4"/&gt;</pre></li><li>The <span class="code">src</span> attribute defines the URL from which the update can be retrieved,
      relative to the containing page. In our example it refers to a fake AJAX service included in
      MCS.</li><li>The <span class="code">interval</span> attribute defines time in seconds between content
    refreshes</li></ol><h2>Widget response structure <a href="../client/wag_widgets_structure.html"><img src="../icons/icon_help.png" border="0" alt="Learn More"/></a></h2><ol><li>The XDIME response must have the following form<pre class="code">
&lt;response:response xmlns="http://www.w3.org/2002/06/xhtml2"
   xmlns:mcs="http://www.volantis.com/xmlns/2006/01/xdime/mcs"
   xmlns:response="http://www.volantis.com/xmlns/2006/05/widget/response"&gt;
   &lt;response:head/&gt;
   &lt;response:body&gt;
      &lt;response:progress&gt;50&lt;/response:progress&gt;
   &lt;/response:body&gt;
&lt;/response:response&gt;</pre></li><li>The <span class="code">response:progress</span> element contains the number corresponding to the
      percentage of a task that has been completed. It must be in the range between 0 and
    100.</li></ol><h2>Complete XDIME 2 code</h2><ol><li>You need to create a <span class="filepath">ajax-progressbar.xdime</span> file, and modify its
      content by including the following code<pre class="code">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;html xmlns="http://www.w3.org/2002/06/xhtml2"
  xmlns:mcs="http://www.volantis.com/xmlns/2006/01/xdime/mcs"
  xmlns:widget="http://www.volantis.com/xmlns/2006/05/widget"
  xmlns:template="http://www.volantis.com/xmlns/marlin-template"&gt;
  &lt;head&gt;
    &lt;title&gt;Progress Indicator Widget&lt;/title&gt;
    &lt;link rel="mcs:theme" href="/themes/main.mthm"/&gt;
    &lt;link rel="mcs:theme" href="/themes/progressbar.mthm"/&gt;
    &lt;link rel="mcs:layout" href="/layouts/main.mlyt"/&gt;
  &lt;/head&gt;
  &lt;body id="body"&gt;
    &lt;template:apply href="templates/demo-main.xdtpl"&gt;
      &lt;template:binding name="title" value="Progress w/AJAX"/&gt;
      &lt;template:binding name="content"&gt;
        &lt;template:complexValue&gt;
          &lt;widget:progress id="progressBar" class="widget"&gt;
            &lt;widget:refresh id="refresh" src="service/progress" interval="4"/&gt;
          &lt;/widget:progress&gt;
        &lt;/template:complexValue&gt;
      &lt;/template:binding&gt;
    &lt;/template:apply&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></li></ol><h2>Checklist</h2>
    <table cellspacing="0"><thead><tr><th class="firsthdr">Name</th><th>Purpose</th></tr></thead><tbody><tr><th class="firstcell"><a href="../xdime_cp/response_progress.html">response:progress</a></th><td><p>Allows the Progress Bar widget to refresh the operation percentage value.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/widget_progress.html">widget:progress</a></th><td><p>The main element for a Progress Bar widget.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/widget_refresh.html">widget:refresh</a></th><td><p>Allows a widget to update its contents.</p></td></tr><tr><th class="firstcell"><a href="../xdime_cp/core_attr_cp.html">Core attributes</a></th><td><p>Attributes that are common to XDIME 2 elements.</p></td></tr></tbody></table>
  </body></html>